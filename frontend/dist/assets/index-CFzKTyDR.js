import{r as l,o as d,j as a,L as m,R as x,B as p}from"./index-Cb9iWb3X.js";import{s as h}from"./ArrowLeft.es-BrusXIhY.js";import{s as g}from"./CloudArrowUp.es-BHQ7uUBQ.js";import{A as u}from"./alert-CMpuOtHs.js";import{C as k,a as f,b,c as j,d as N}from"./card-D9DWCS54.js";const S=()=>{const[s,o]=l.useState([]);l.useEffect(()=>{d.listPendingReports().then(e=>o(e)).catch(e=>console.error(e))},[]);const c=async()=>{var e;(e=navigator.serviceWorker)!=null&&e.controller&&navigator.serviceWorker.controller.postMessage("force-sync")};return a.jsxs("main",{className:"mx-auto flex min-h-[80vh] max-w-5xl flex-col gap-8 px-4 py-10",children:[a.jsxs(m,{to:x.beranda,className:"flex items-center gap-2 text-sm text-biru-pemerintah",children:[a.jsx(h,{className:"h-4 w-4",weight:"bold"})," Kembali ke beranda"]}),a.jsxs(k,{className:"bg-white",children:[a.jsxs(f,{children:[a.jsx(b,{children:"Anda sedang offline"}),a.jsx(j,{children:"Semua perubahan akan disimpan sementara. Sambungkan perangkat ke internet untuk sinkronisasi otomatis atau tekan tombol sinkronisasi manual di bawah."})]}),a.jsxs(N,{className:"space-y-4",children:[a.jsx(u,{variant:"warning",className:"text-sm",children:"Pastikan koneksi stabil sebelum mengunggah ulang foto dan data besar."}),a.jsxs(p,{onClick:c,className:"w-full",children:[a.jsx(g,{className:"mr-2 h-5 w-5",weight:"bold"})," Paksa Sinkronisasi"]})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-teks-gelap",children:"Laporan menunggu sinkronisasi"}),a.jsxs("div",{className:"space-y-3",children:[s.length===0&&a.jsx("p",{className:"text-sm text-slate-netral",children:"Tidak ada data menunggu."}),s.map(e=>{var t,n,r,i;return a.jsxs("div",{className:"rounded-2xl border border-abu-kartu bg-abu-kartu/50 p-4 text-sm text-slate-netral",children:[a.jsx("p",{className:"font-medium text-teks-gelap",children:((t=e.payload)==null?void 0:t.komoditas)??"Laporan Lapangan"}),a.jsx("p",{children:((r=(n=e.payload)==null?void 0:n.lokasi)==null?void 0:r.alamat)??"Lokasi belum tersedia"}),a.jsxs("p",{className:"text-xs",children:["Catatan: ",((i=e.payload)==null?void 0:i.catatan)??"-"]}),a.jsxs("p",{className:"text-xs text-slate-netral/80",children:["Disimpan: ",new Date(e.createdAt).toLocaleString("id-ID")]})]},e.id)})]})]})]})};export{S as default};
//# sourceMappingURL=index-CFzKTyDR.js.map
