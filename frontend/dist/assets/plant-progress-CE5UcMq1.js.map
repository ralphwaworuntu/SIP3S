{"version":3,"file":"plant-progress-CE5UcMq1.js","sources":["../../src/pages/dashboard/bhabinkamtibmas/plant-progress.tsx"],"sourcesContent":["import { useEffect, useMemo, useRef, useState } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useMutation, useQuery, useQueryClient } from \"@tanstack/react-query\";\r\nimport { z } from \"zod\";\r\nimport { zodResolver } from \"@hookform/resolvers/zod\";\r\nimport {\r\n  ArrowsClockwise,\r\n  Camera,\r\n  CaretDown,\r\n  CheckCircle,\r\n  FileImage,\r\n  MapPinLine,\r\n  WarningCircle,\r\n} from \"@phosphor-icons/react\";\r\n\r\nimport { Alert } from \"@/components/ui/alert\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { useGeolocation } from \"@/hooks/use-geolocation\";\r\nimport { useCamera } from \"@/hooks/use-camera\";\r\nimport { bhabinService } from \"@/services/bhabin-service\";\r\nimport type { PlantConditionPayload, RecipientVerification } from \"@/types/bhabin\";\r\n\r\nconst PLANT_PHASES = [\r\n  \"Pembersihan Lahan\",\r\n  \"Mulai Penanaman\",\r\n  \"Penyiraman / Pengairan\",\r\n  \"Penyulaman\",\r\n  \"Penyiangan\",\r\n  \"Penggemburan Tanah\",\r\n  \"Pengendalian Hama dan Penyakit\",\r\n  \"Pemangkasan\",\r\n  \"Pemupukan\",\r\n] as const;\r\n\r\n\r\nconst plantSchema = z\r\n  .object({\r\n    recipientId: z.string().min(1, \"Pilih petani\"),\r\n    fase: z.enum(PLANT_PHASES, { errorMap: () => ({ message: \"Pilih fase tanam\" }) }),\r\n    kondisi: z.enum([\"baik\", \"waspada\", \"kritikal\"]),\r\n    catatan: z.string().min(5, \"Jelaskan kondisinya\"),\r\n    pupukDigunakanKg: z\r\n      .number({ invalid_type_error: \"Masukkan angka\" })\r\n      .min(0, \"Minimal 0\")\r\n      .optional(),\r\n    luasLahanBersihM2: z\r\n      .number({ invalid_type_error: \"Masukkan angka\" })\r\n      .min(0, \"Minimal 0\")\r\n      .optional(),\r\n    bibitDitanamKg: z\r\n      .number({ invalid_type_error: \"Masukkan angka\" })\r\n      .min(0, \"Minimal 0\")\r\n      .optional(),\r\n  })\r\n  .superRefine((data, ctx) => {\r\n    if (data.fase === \"Pemupukan\") {\r\n      if (data.pupukDigunakanKg === undefined || Number.isNaN(data.pupukDigunakanKg)) {\r\n        ctx.addIssue({\r\n          code: z.ZodIssueCode.custom,\r\n          path: [\"pupukDigunakanKg\"],\r\n          message: \"Isi jumlah pupuk (Kg)\",\r\n        });\r\n      }\r\n    }\r\n    if (data.fase === \"Pembersihan Lahan\") {\r\n      if (data.luasLahanBersihM2 === undefined || Number.isNaN(data.luasLahanBersihM2)) {\r\n        ctx.addIssue({\r\n          code: z.ZodIssueCode.custom,\r\n          path: [\"luasLahanBersihM2\"],\r\n          message: \"Isi luas lahan (m2)\",\r\n        });\r\n      }\r\n    }\r\n    if (data.fase === \"Mulai Penanaman\") {\r\n      if (data.bibitDitanamKg === undefined || Number.isNaN(data.bibitDitanamKg)) {\r\n        ctx.addIssue({\r\n          code: z.ZodIssueCode.custom,\r\n          path: [\"bibitDitanamKg\"],\r\n          message: \"Isi jumlah bibit (Kg)\",\r\n        });\r\n      }\r\n    }\r\n  });\r\n\r\ntype PlantFormValues = z.infer<typeof plantSchema>;\r\n\r\ntype FeedbackState = {\r\n  type: \"success\" | \"error\" | \"info\";\r\n  message: string;\r\n};\r\n\r\nconst badgeVariant: Record<string, \"success\" | \"neutral\" | \"warning\"> = {\r\n  baik: \"success\",\r\n  waspada: \"neutral\",\r\n  kritikal: \"warning\",\r\n};\r\n\r\nconst dropdownDisplay = (recipient: RecipientVerification | null) => {\r\n  if (!recipient) {\r\n    return \"-- pilih petani --\";\r\n  }\r\n  return `${recipient.nama} â€¢ ${recipient.komoditas} â€¢ ${recipient.wilayah}`;\r\n};\r\n\r\nconst formatDateTime = (iso: string) => new Date(iso).toLocaleString(\"id-ID\", { dateStyle: \"medium\", timeStyle: \"short\" });\r\n\r\nconst PlantProgressPage = () => {\r\n  const queryClient = useQueryClient();\r\n  const [feedback, setFeedback] = useState<FeedbackState | null>(null);\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [isDropdownOpen, setDropdownOpen] = useState(false);\r\n  const dropdownRef = useRef<HTMLDivElement | null>(null);\r\n  const searchInputRef = useRef<HTMLInputElement | null>(null);\r\n  const lokasi = useGeolocation();\r\n  const camera = useCamera();\r\n\r\n  const recipientsQuery = useQuery({\r\n    queryKey: [\"bhabin\", \"recipients\"],\r\n    queryFn: () => bhabinService.listRecipients(),\r\n  });\r\n\r\n  const recipients = useMemo(() => recipientsQuery.data ?? [], [recipientsQuery.data]);\r\n  const pendingRecipients = useMemo(() => recipients.filter((item) => item.status !== \"rejected\"), [recipients]);\r\n  const filteredRecipients = useMemo(() => {\r\n    const keyword = searchTerm.trim().toLowerCase();\r\n    if (!keyword) return pendingRecipients;\r\n    return pendingRecipients.filter((item) => {\r\n      const combined = `${item.nama} ${item.nik} ${item.komoditas} ${item.wilayah}`.toLowerCase();\r\n      return combined.includes(keyword);\r\n    });\r\n  }, [pendingRecipients, searchTerm]);\r\n\r\n  const form = useForm<PlantFormValues>({\r\n    resolver: zodResolver(plantSchema),\r\n    defaultValues: {\r\n      recipientId: \"\",\r\n      fase: \"Pembersihan Lahan\",\r\n      kondisi: \"baik\",\r\n      catatan: \"\",\r\n      pupukDigunakanKg: undefined,\r\n      luasLahanBersihM2: undefined,\r\n      bibitDitanamKg: undefined,\r\n    },\r\n  });\r\n\r\n  const recipientId = form.watch(\"recipientId\");\r\n  const fase = form.watch(\"fase\");\r\n  const selectedRecipient = useMemo(\r\n    () => recipients.find((item) => item.id === recipientId) ?? null,\r\n    [recipientId, recipients]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (!isDropdownOpen) {\r\n      setSearchTerm(\"\");\r\n      return;\r\n    }\r\n    const handler = (event: MouseEvent) => {\r\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target as Node)) {\r\n        setDropdownOpen(false);\r\n      }\r\n    };\r\n    document.addEventListener(\"mousedown\", handler);\r\n    return () => document.removeEventListener(\"mousedown\", handler);\r\n  }, [isDropdownOpen]);\r\n\r\n  useEffect(() => {\r\n    if (isDropdownOpen) {\r\n      const timer = window.setTimeout(() => searchInputRef.current?.focus(), 0);\r\n      return () => window.clearTimeout(timer);\r\n    }\r\n    return undefined;\r\n  }, [isDropdownOpen]);\r\n\r\n  useEffect(() => {\r\n    if (fase !== \"Pemupukan\") {\r\n      form.resetField(\"pupukDigunakanKg\", { defaultValue: undefined });\r\n    }\r\n    if (fase !== \"Pembersihan Lahan\") {\r\n      form.resetField(\"luasLahanBersihM2\", { defaultValue: undefined });\r\n    }\r\n    if (fase !== \"Mulai Penanaman\") {\r\n      form.resetField(\"bibitDitanamKg\", { defaultValue: undefined });\r\n    }\r\n  }, [fase, form]);\r\n\r\n  const handleRecipientSelect = (recipient: RecipientVerification) => {\r\n    form.setValue(\"recipientId\", recipient.id, { shouldValidate: true, shouldDirty: true });\r\n    form.clearErrors(\"recipientId\");\r\n    setDropdownOpen(false);\r\n  };\r\n\r\n  const query = useQuery({\r\n    queryKey: [\"bhabin\", \"plant\"],\r\n    queryFn: () => bhabinService.listPlantProgress(),\r\n  });\r\n\r\n  const mutation = useMutation({\r\n    mutationFn: (payload: PlantConditionPayload & { reporter: string }) =>\r\n      bhabinService.submitPlantProgress(payload),\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: [\"bhabin\", \"plant\"] });\r\n      setFeedback({ type: \"success\", message: \"Perkembangan tanaman tersimpan.\" });\r\n      form.reset({ recipientId: \"\", fase: \"Pembersihan Lahan\", kondisi: \"baik\", catatan: \"\", pupukDigunakanKg: undefined, luasLahanBersihM2: undefined, bibitDitanamKg: undefined });\r\n      camera.restart();\r\n    },\r\n    onError: () => setFeedback({ type: \"error\", message: \"Gagal menyimpan perkembangan tanaman.\" }),\r\n  });\r\n\r\n  const handleSubmit = (values: PlantFormValues) => {\r\n    if (!selectedRecipient) {\r\n      setFeedback({ type: \"error\", message: \"Pilih petani terlebih dahulu.\" });\r\n      setDropdownOpen(true);\r\n      return;\r\n    }\r\n    if (!lokasi.latitude || !lokasi.longitude) {\r\n      setFeedback({ type: \"error\", message: \"GPS belum siap. Tekan segarkan dan pastikan izin lokasi aktif.\" });\r\n      return;\r\n    }\r\n    if (!camera.preview) {\r\n      setFeedback({ type: \"error\", message: \"Ambil foto kondisi tanaman terlebih dahulu.\" });\r\n      return;\r\n    }\r\n    setFeedback(null);\r\n    const payload: PlantConditionPayload & { reporter: string } = {\r\n      wilayah: selectedRecipient.wilayah,\r\n      petani: selectedRecipient.nama,\r\n      komoditas: selectedRecipient.komoditas,\r\n      fase: values.fase,\r\n      kondisi: values.kondisi,\r\n      catatan: values.catatan,\r\n      lokasi: {\r\n        latitude: lokasi.latitude,\r\n        longitude: lokasi.longitude,\r\n        alamat: lokasi.alamat,\r\n      },\r\n      fotoEvidence: camera.preview,\r\n      pupukDigunakanKg: values.fase === \"Pemupukan\" ? values.pupukDigunakanKg : undefined,\r\n      luasLahanBersihM2: values.fase === \"Pembersihan Lahan\" ? values.luasLahanBersihM2 : undefined,\r\n      bibitDitanamKg: values.fase === \"Mulai Penanaman\" ? values.bibitDitanamKg : undefined,\r\n      reporter: \"bhabin\",\r\n    };\r\n    mutation.mutate(payload);\r\n  };\r\n\r\n  return (\r\n    <section className=\"grid gap-4 xl:grid-cols-2\">\r\n      <Card className=\"bg-white\">\r\n        <CardHeader>\r\n          <CardTitle>Input perkembangan tanaman</CardTitle>\r\n          <CardDescription>Laporkan kondisi tanaman untuk koordinasi cepat dengan PPL.</CardDescription>\r\n        </CardHeader>\r\n        <CardContent className=\"space-y-3 text-sm text-slate-netral\">\r\n          {feedback && (\r\n            <Alert variant={feedback.type === \"success\" ? \"success\" : feedback.type === \"error\" ? \"error\" : \"info\"}>\r\n              <div className=\"flex items-center gap-2\">\r\n                {feedback.type === \"success\" ? (\r\n                  <CheckCircle className=\"h-5 w-5\" weight=\"bold\" />\r\n                ) : (\r\n                  <WarningCircle className=\"h-5 w-5\" weight=\"bold\" />\r\n                )}\r\n                <span>{feedback.message}</span>\r\n              </div>\r\n            </Alert>\r\n          )}\r\n\r\n          <form className=\"space-y-3\" onSubmit={form.handleSubmit(handleSubmit)}>\r\n            <div className=\"flex flex-col gap-2\">\r\n              <span>Pilih petani penerima</span>\r\n              <div className=\"relative\" ref={dropdownRef}>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"flex w-full items-center justify-between rounded-2xl border border-abu-kartu px-3 py-2 text-left text-sm text-teks-gelap hover:border-biru-pemerintah/60\"\r\n                  onClick={() => pendingRecipients.length > 0 && setDropdownOpen((prev) => !prev)}\r\n                  disabled={pendingRecipients.length === 0}\r\n                >\r\n                  <span className={selectedRecipient ? \"\" : \"text-slate-netral\"}>{dropdownDisplay(selectedRecipient)}</span>\r\n                  <CaretDown className=\"ml-2 h-4 w-4 text-slate-netral\" weight=\"bold\" />\r\n                </button>\r\n                {isDropdownOpen && (\r\n                  <div className=\"absolute z-30 mt-2 w-full rounded-2xl border border-abu-kartu bg-white p-3 shadow-xl\">\r\n                    <input\r\n                      ref={searchInputRef}\r\n                      type=\"search\"\r\n                      className=\"w-full rounded-2xl border border-abu-kartu px-3 py-2 text-sm\"\r\n                      placeholder=\"Cari nama, NIK, komoditas, atau wilayah\"\r\n                      value={searchTerm}\r\n                      onChange={(event) => setSearchTerm(event.target.value)}\r\n                    />\r\n                    <div className=\"mt-2 max-h-60 overflow-y-auto\">\r\n                      {filteredRecipients.length > 0 ? (\r\n                        filteredRecipients.map((petani) => {\r\n                          const isSelected = petani.id === recipientId;\r\n                          return (\r\n                            <button\r\n                              type=\"button\"\r\n                              key={petani.id}\r\n                              className={`flex w-full flex-col items-start rounded-xl px-3 py-2 text-left text-sm transition hover:bg-biru-pemerintah/10 ${\r\n                                isSelected ? \"bg-biru-pemerintah/10 text-biru-pemerintah\" : \"text-teks-gelap\"\r\n                              }`}\r\n                              onClick={() => handleRecipientSelect(petani)}\r\n                            >\r\n                              <span className=\"font-medium\">{petani.nama}</span>\r\n                              <span className=\"text-xs text-slate-netral\">\r\n                                {petani.nik} â€¢ {petani.komoditas} â€¢ {petani.wilayah}\r\n                              </span>\r\n                            </button>\r\n                          );\r\n                        })\r\n                      ) : (\r\n                        <p className=\"px-2 py-4 text-center text-sm text-slate-netral\">Tidak ditemukan data sesuai pencarian.</p>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n              {pendingRecipients.length === 0 && <span className=\"text-xs text-slate-netral\">Belum ada data penerima.</span>}\r\n              {form.formState.errors.recipientId && (\r\n                <span className=\"text-xs text-oranye-hangat\">{form.formState.errors.recipientId.message}</span>\r\n              )}\r\n            </div>\r\n\r\n            {selectedRecipient && (\r\n              <div className=\"rounded-2xl border border-abu-kartu bg-white p-3 text-xs text-slate-netral\">\r\n                <p className=\"text-sm font-semibold text-teks-gelap\">{selectedRecipient.nama}</p>\r\n                <p>NIK: {selectedRecipient.nik}</p>\r\n                <p>Kelompok: {selectedRecipient.kelompok}</p>\r\n                <p>Komoditas: {selectedRecipient.komoditas}</p>\r\n                <p>Wilayah: {selectedRecipient.wilayah}</p>\r\n                <p>Jadwal distribusi: {formatDateTime(selectedRecipient.jadwalDistribusi)}</p>\r\n              </div>\r\n            )}\r\n\r\n            <label className=\"flex flex-col gap-1\">\r\n              Fase tanam\r\n              <select className=\"rounded-2xl border border-abu-kartu px-3 py-2\" {...form.register(\"fase\")}>\r\n                {PLANT_PHASES.map((phase) => (\r\n                  <option key={phase} value={phase}>\r\n                    {phase}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </label>\r\n            {fase === \"Pemupukan\" && (\r\n              <label className=\"flex flex-col gap-1\">\r\n                Jumlah pupuk yang digunakan (Kg)\r\n                <input\r\n                  type=\"number\"\r\n                  step=\"0.1\"\r\n                  className=\"rounded-2xl border border-abu-kartu px-3 py-2\"\r\n                  placeholder=\"Contoh: 50\"\r\n                  {...form.register(\"pupukDigunakanKg\", { valueAsNumber: true })}\r\n                />\r\n                {form.formState.errors.pupukDigunakanKg && (\r\n                  <span className=\"text-xs text-oranye-hangat\">{form.formState.errors.pupukDigunakanKg.message}</span>\r\n                )}\r\n              </label>\r\n            )}\r\n            {fase === \"Pembersihan Lahan\" && (\r\n              <label className=\"flex flex-col gap-1\">\r\n                Jumlah luas lahan yang dibersihkan (m2)\r\n                <input\r\n                  type=\"number\"\r\n                  step=\"0.1\"\r\n                  className=\"rounded-2xl border border-abu-kartu px-3 py-2\"\r\n                  placeholder=\"Contoh: 500\"\r\n                  {...form.register(\"luasLahanBersihM2\", { valueAsNumber: true })}\r\n                />\r\n                {form.formState.errors.luasLahanBersihM2 && (\r\n                  <span className=\"text-xs text-oranye-hangat\">{form.formState.errors.luasLahanBersihM2.message}</span>\r\n                )}\r\n              </label>\r\n            )}\r\n            {fase === \"Mulai Penanaman\" && (\r\n              <label className=\"flex flex-col gap-1\">\r\n                Jumlah bibit yang ditanam (Kg)\r\n                <input\r\n                  type=\"number\"\r\n                  step=\"0.1\"\r\n                  className=\"rounded-2xl border border-abu-kartu px-3 py-2\"\r\n                  placeholder=\"Contoh: 30\"\r\n                  {...form.register(\"bibitDitanamKg\", { valueAsNumber: true })}\r\n                />\r\n                {form.formState.errors.bibitDitanamKg && (\r\n                  <span className=\"text-xs text-oranye-hangat\">{form.formState.errors.bibitDitanamKg.message}</span>\r\n                )}\r\n              </label>\r\n            )}\r\n            <label className=\"flex flex-col gap-1\">\r\n              Kondisi\r\n              <select className=\"rounded-2xl border border-abu-kartu px-3 py-2\" {...form.register(\"kondisi\")}>\r\n                <option value=\"baik\">Baik</option>\r\n                <option value=\"waspada\">Perlu perhatian</option>\r\n                <option value=\"kritikal\">Butuh tindak lanjut</option>\r\n              </select>\r\n            </label>\r\n            <label className=\"flex flex-col gap-1\">\r\n              Catatan lapangan\r\n              <textarea className=\"rounded-2xl border border-abu-kartu px-3 py-2\" rows={3} {...form.register(\"catatan\")} />\r\n              {form.formState.errors.catatan && <span className=\"text-xs text-oranye-hangat\">{form.formState.errors.catatan.message}</span>}\r\n            </label>\r\n\r\n            <div className=\"space-y-2 rounded-2xl border border-abu-kartu p-3\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <p className=\"text-sm font-medium text-teks-gelap\">Koordinat lokasi</p>\r\n                <Button\r\n                  type=\"button\"\r\n                  variant=\"outline\"\r\n                  size=\"sm\"\r\n                  onClick={lokasi.refresh}\r\n                  disabled={lokasi.isLoading}\r\n                  className=\"inline-flex items-center gap-1\"\r\n                >\r\n                  <ArrowsClockwise className={`h-4 w-4 ${lokasi.isLoading ? \"animate-spin\" : \"\"}`} weight=\"bold\" />\r\n                  <span>{lokasi.isLoading ? \"Memuat\" : \"Segarkan\"}</span>\r\n                </Button>\r\n              </div>\r\n              <div className=\"flex items-start gap-2 text-xs text-slate-netral\">\r\n                <MapPinLine className=\"mt-0.5 h-4 w-4\" weight=\"bold\" />\r\n                <div>\r\n                  {lokasi.latitude && lokasi.longitude ? (\r\n                    <>\r\n                      <p>{lokasi.alamat}</p>\r\n                      <p>\r\n                        Lat {lokasi.latitude.toFixed(4)} | Long {lokasi.longitude.toFixed(4)}\r\n                      </p>\r\n                    </>\r\n                  ) : lokasi.isLoading ? (\r\n                    <p>Mengambil lokasi terkini...</p>\r\n                  ) : (\r\n                    <p>Lokasi belum tersedia. Pastikan izin GPS aktif lalu tekan segarkan.</p>\r\n                  )}\r\n                  {lokasi.error && <p className=\"text-oranye-hangat\">{lokasi.error}</p>}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"space-y-3 rounded-2xl border border-abu-kartu p-3\">\r\n              <p className=\"text-sm font-medium text-teks-gelap\">Dokumentasi kondisi tanaman</p>\r\n              {camera.streamError && <Alert variant=\"warning\">{camera.streamError}</Alert>}\r\n              {!camera.preview ? (\r\n                <div className=\"space-y-3\">\r\n                  <video ref={camera.videoRef} autoPlay playsInline className=\"h-56 w-full rounded-2xl bg-black/60 object-cover\" />\r\n                  <canvas ref={camera.canvasRef} className=\"hidden\" />\r\n                  <Button type=\"button\" className=\"w-full\" onClick={camera.capturePhoto}>\r\n                    <Camera className=\"mr-2 h-5 w-5\" weight=\"bold\" /> Ambil Foto\r\n                  </Button>\r\n                </div>\r\n              ) : (\r\n                <div className=\"space-y-3\">\r\n                  <img src={camera.preview} alt=\"Dokumentasi tanaman\" className=\"h-56 w-full rounded-2xl object-cover\" />\r\n                  <Button type=\"button\" variant=\"outline\" onClick={camera.restart}>\r\n                    <FileImage className=\"mr-2 h-5 w-5\" weight=\"bold\" /> Ambil Ulang\r\n                  </Button>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            <Button type=\"submit\" className=\"w-full\" disabled={mutation.isPending}>\r\n              {mutation.isPending ? \"Menyimpan...\" : \"Kirim laporan\"}\r\n            </Button>\r\n            <Alert variant=\"info\" className=\"text-xs\">\r\n              Data disimpan otomatis meski offline dan akan tersinkron ketika koneksi kembali.\r\n            </Alert>\r\n          </form>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      <Card className=\"bg-white\">\r\n        <CardHeader>\r\n          <CardTitle>Riwayat perkembangan</CardTitle>\r\n          <CardDescription>Data terbaru dari lapangan.</CardDescription>\r\n        </CardHeader>\r\n        <CardContent className=\"space-y-2 text-xs text-slate-netral\">\r\n          {(query.data ?? []).map((item) => (\r\n            <div key={item.id} className=\"rounded-2xl border border-abu-kartu p-3\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <span className=\"text-sm font-medium text-teks-gelap\">{item.petani}</span>\r\n                <Badge variant={badgeVariant[item.kondisi]}>{item.kondisi.toUpperCase()}</Badge>\r\n              </div>\r\n              <p>Wilayah: {item.wilayah}</p>\r\n              <p>Komoditas: {item.komoditas}</p>\r\n              <p>Fase: {item.fase}</p>\r\n              <p>Catatan: {item.catatan}</p>\r\n              <p>Update: {formatDateTime(item.updatedAt)}</p>\r\n              {item.lokasi && (\r\n                <p>\r\n                  Lokasi: Lat {item.lokasi.latitude.toFixed(4)} | Long {item.lokasi.longitude.toFixed(4)}\r\n                </p>\r\n              )}\r\n              {item.fotoEvidence && (\r\n                <img src={item.fotoEvidence} alt={`Dokumentasi ${item.petani}`} className=\"mt-2 h-32 w-full rounded-2xl object-cover\" />\r\n              )}\r\n            </div>\r\n          ))}\r\n        </CardContent>\r\n      </Card>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default PlantProgressPage;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"names":["PLANT_PHASES","plantSchema","z.object","z.string","z.enum","z.number","data","ctx","z.ZodIssueCode","badgeVariant","dropdownDisplay","recipient","formatDateTime","iso","PlantProgressPage","queryClient","useQueryClient","feedback","setFeedback","useState","searchTerm","setSearchTerm","isDropdownOpen","setDropdownOpen","dropdownRef","useRef","searchInputRef","lokasi","useGeolocation","camera","useCamera","recipientsQuery","useQuery","bhabinService","recipients","useMemo","pendingRecipients","item","filteredRecipients","keyword","form","useForm","zodResolver","recipientId","fase","selectedRecipient","useEffect","handler","event","timer","_a","handleRecipientSelect","query","mutation","useMutation","payload","handleSubmit","values","jsxs","Card","CardHeader","jsx","CardTitle","CardDescription","CardContent","Alert","CheckCircle","WarningCircle","prev","CaretDown","petani","isSelected","phase","Button","ArrowsClockwise","MapPinLine","Fragment","FileImage","Camera","Badge"],"mappings":"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"}